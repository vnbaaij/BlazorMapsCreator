@page "/UploadPage"
@inject Blazored.LocalStorage.ILocalStorageService localStorage
@inject IWebHostEnvironment Environment
@using System
@using System.IO
@using System.Text
@using Microsoft.AspNetCore.Hosting


<h3>Upload a Drawing Package</h3>

<p>
<label>
    Upload a zip file containing the DWG files and a manifest.json:<br />
    <InputFile OnChange="@LoadFile" />
</label>
</p>
<br />
<Stack Horizontal="true" Tokens=@(new StackTokens() { ChildrenGap = new[] { 40.0 } }) Style="width:100%;">
    <StackItem>
        <DefaultButton @onclick="MapDataUploadStatus" Disabled="@uploadButtonDisabled">Upload Map Data Status</DefaultButton>
    </StackItem>
    <StackItem>
        <DefaultButton @onclick="MapDataMetadata" Disabled="@metadataButtonDisabled">Map Data Metadata</DefaultButton>
    </StackItem>
    <StackItem>
        <DefaultButton @onclick="MapDataDelete" Disabled="@deleteButtonDisabled">Delete Map Data</DefaultButton>
    </StackItem>
</Stack>

<h4>Values used:</h4>

<div>
    Selected geography: @(geography ?? "none")<br />
    Key: @subscriptionkey<br />
    <hr />
    Identifier: @udid<br />
    @metadata<br />
</div>



